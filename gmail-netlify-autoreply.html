<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Gmail Auto-Reply tylko Netlify</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 900px; margin: 0 auto; padding: 20px; }
        .step { background: #f9f9f9; padding: 20px; margin: 20px 0; border-left: 4px solid #00D2FF; border-radius: 8px; }
        .step h3 { margin-top: 0; color: #0a1628; }
        .code { background: #000; color: #0f0; padding: 15px; border-radius: 4px; font-family: monospace; overflow-x: auto; margin: 10px 0; }
        .warning { background: #fff3cd; padding: 15px; border-left: 4px solid #ffc107; border-radius: 4px; margin: 15px 0; }
        .success { background: #d4edda; padding: 15px; border-left: 4px solid #28a745; border-radius: 4px; margin: 15px 0; }
        h2 { color: #0a1628; border-bottom: 2px solid #00D2FF; padding-bottom: 10px; }
        strong { color: #00D2FF; }
    </style>
</head>
<body>

<h1>âš¡ Auto-Reply TYLKO z Netlify w Gmailu</h1>

<p>BÄ™dziemy ustawiaÄ‡ auto-reply tak, aby wysyÅ‚aÅ‚ siÄ™ <strong>TYLKO</strong> na powiadomienia z Netlify vá» deploymencie, build statusie itp.</p>

---

## ğŸ“‹ **OPCJA 1: Filtr Gmail + Canned Response (Zaawansowane, RÄ™czne)**

<div class="step">
    <h3>KROK 1: UtwÃ³rz Filtr w Gmailu</h3>
    <ol>
        <li>OtwÃ³rz Gmail â†’ âš™ï¸ <strong>Ustawienia</strong></li>
        <li>Karta: <strong>"Filtry i zablokowane adresy"</strong></li>
        <li>Na dole: kliknij <strong>"UtwÃ³rz nowy filtr"</strong></li>
    </ol>
</div>

<div class="step">
    <h3>KROK 2: Ustaw Warunek na Netlify</h3>
    <p>W polu <strong>"Od:"</strong> wpisz:</p>
    <div class="code">notifications@netlify.com</div>
    <p><strong>LUB jeÅ›li chcesz aby Å‚apaÅ‚o wszystkie maile zawierajÄ…ce "Netlify":</strong></p>
    <div class="code">Netlify</div>
    <p>Kliknij <strong>"UtwÃ³rz filtr"</strong></p>
</div>

<div class="step">
    <h3>KROK 3: Wybierz Akcje dla Maili z Netlify</h3>
    <p>Zaznacz wszystkie opcje, ktÃ³re chcesz:</p>
    <ul>
        <li>âœ… <strong>"Otaguj wiadomoÅ›Ä‡"</strong> â†’ escolha nowÄ… etykietÄ™ "Netlify Alerts" (tworzysz nowÄ…)</li>
        <li>âœ… <strong>"Nigdy nie pogrÅ‚aw wiadomoÅ›ci do spamu"</strong></li>
        <li>âœ… <strong>"Zaznacz gwiazdkÄ…"</strong> (opcjonalnie - aby zawsze na gÃ³rze)</li>
    </ul>
    <p>Kliknij <strong>"UtwÃ³rz filtr"</strong></p>
</div>

<div class="success">
    <strong>âœ… Od teraz wszystkie maile z Netlify bÄ™dÄ… otagowane "Netlify Alerts"</strong>
</div>

<div class="step">
    <h3>KROK 4 (Opcjonalnie): UtwÃ³rz Szablon Odpowiedzi</h3>
    <ol>
        <li>Napisz nowÄ… wiadomoÅ›Ä‡ (Compose)</li>
        <li>Skopiuj poniÅ¼szy HTML/tekst (odpowiedÅº dla Netlify)</li>
        <li>Po wpisaniu tekstu: kliknij <strong>â‹® (trzy kreski)</strong> â†’ <strong>"Szablony"</strong> â†’ <strong>"Zachowaj wersjÄ™ roboczÄ… jako szablon"</strong></li>
        <li>Nazwij: <strong>"Netlify Alert Response"</strong></li>
    </ol>
</div>

---

## ğŸ¤– **OPCJA 2: Google Apps Script (AUTOMATYCZNE - PRO)**

<p><strong>Ta opcja bÄ™dzie automatycznie wysyÅ‚aÄ‡ odpowiedÅº na kaÅ¼dy mail z Netlify - bez Twojej interwencji!</strong></p>

<div class="step">
    <h3>KROK 1: OtwÃ³rz Google Apps Script</h3>
    <ol>
        <li>WejdÅº na: <a href="https://script.google.com" target="_blank">https://script.google.com</a></li>
        <li>Kliknij <strong>"+ Nowy projekt"</strong></li>
        <li>ZmieÅ„ nazwÄ™ z "Projekt bez nazwy" na: <strong>"Netlify Auto Reply"</strong></li>
    </ol>
</div>

<div class="step">
    <h3>KROK 2: Wklej Kod</h3>
    <p>UsuÅ„ wszystko w edytorze i wklej:</p>
        <div class="code">function autoReplyToNetlify() {
    // Szukaj nowych maili z Netlify, ktÃ³re nie majÄ… etykiety "netlify-replied"
    var threads = GmailApp.search('from:notifications@netlify.com is:unread -label:netlify-replied');

    var replySubject = "DziÄ™kujÄ™ â€” potwierdzenie otrzymania wiadomoÅ›ci";
    var replyBody = 'DziÄ™kujÄ™ za kontakt â€” otrzymaÅ‚em TwojÄ… wiadomoÅ›Ä‡. Odpowiem maksymalnie w ciÄ…gu 48 godzin.\n\nW sprawach pilnych: +48 609 112 480\n\nPozdrawiam,\nRafaÅ‚ Berecki\nhttps://berecki.com';
    var replyHtml = '<div style="font-family:Arial, sans-serif; color:#0a1628; line-height:1.5;">'
                  + '<h2 style="margin:0 0 8px 0; color:#00D2FF;">DziÄ™kujÄ™ za kontakt</h2>'
                  + '<p>CzeÅ›Ä‡ <strong>[ImiÄ™]</strong>,</p>'
                  + '<p>DziÄ™kujÄ™ â€” otrzymaÅ‚em TwojÄ… wiadomoÅ›Ä‡ i odpowiem maksymalnie w ciÄ…gu <strong>48 godzin</strong>.</p>'
                  + '<p>W sprawach pilnych proszÄ™ dzwoniÄ‡: <strong>+48 609 112 480</strong></p>'
                  + '<p>Pozdrawiam,<br><strong>RafaÅ‚ Berecki</strong><br><a href="https://berecki.com">berecki.com</a></p>'
                  + '</div>';

    var emailRegex = /[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/ig;

    threads.forEach(function(thread) {
        var messages = thread.getMessages();
        var message = messages[messages.length - 1]; // najnowsza wiadomoÅ›Ä‡ w wÄ…tku
        var plainBody = '';
        try { plainBody = message.getPlainBody(); } catch(e) { plainBody = message.getBody(); }

        // Szukaj adresu e-mail w treÅ›ci (najczÄ™Å›ciej pole z formularza)
        var matches = plainBody.match(emailRegex);
        var recipient = null;
        if (matches && matches.length) {
            // wybierz pierwszy adres rÃ³Å¼ny od Twojego i od Netlify
            for (var i = 0; i < matches.length; i++) {
                var m = matches[i].trim();
                var ml = m.toLowerCase();
                if (ml !== 'rberecki@gmail.com' && ml !== 'notifications@netlify.com') {
                    recipient = m;
                    break;
                }
            }
            if (!recipient) recipient = matches[0];
        }

        // JeÅ›li znaleziono adres z formularza - wyÅ›lij tam, inaczej odp na nadawcÄ™
        if (recipient) {
            GmailApp.sendEmail(recipient, replySubject, replyBody, {htmlBody: replyHtml});
            Logger.log('Replied (HTML) to form email: ' + recipient);
        } else {
            var senderEmail = message.getFrom();
            GmailApp.sendEmail(senderEmail, replySubject, replyBody, {htmlBody: replyHtml});
            Logger.log('No form email found, replied (HTML) to sender: ' + senderEmail);
        }

        // Otaguj etykietÄ… "netlify-replied" aby nie odpowiadaÄ‡ ponownie
        var label = GmailApp.getUserLabelByName('netlify-replied');
        if (!label) { label = GmailApp.createLabel('netlify-replied'); }
        thread.addLabel(label);
        thread.markRead();
    });
}</div>
</div>

<div class="step">
    <h3>KROK 3: UtwÃ³rz Trigger (Uruchomianie Automatyczne)</h3>
    <ol>
        <li>W menu: kliknij <strong>"Wyzwalacze"</strong> (ikonka zegarnika z lewej)</li>
        <li>Kliknij <strong>"+ UtwÃ³rz wyzwalacz"</strong></li>
        <li>Ustawienia:
            <ul>
                <li><strong>Funkcja:</strong> autoReplyToNetlify</li>
                <li><strong>Zastosowanie:</strong> Wyzwalacz czasu</li>
                <li><strong>Typ wyzwalacza czasu:</strong> Minuty</li>
                <li><strong>InterwaÅ‚:</strong> Co 5 minut</li>
            </ul>
        </li>
        <li>Kliknij <strong>"UtwÃ³rz"</strong></li>
    </ol>
</div>

<div class="success">
    <strong>âœ… GOTOWE! Teraz auto-reply bÄ™dzie wysyÅ‚any automatycze na kaÅ¼dy mail z Netlify co 5 minut!</strong>
</div>

<div class="warning">
    <strong>âš ï¸ WAÅ»NE:</strong> Google Apps Script poprosci o dostÄ™p do Gmaila - <strong>ZATWIERDÅ¹</strong> aby to dziaÅ‚aÅ‚o!
</div>

---

## ğŸ“§ **SZABLON ODPOWIEDZI NA NETLIFY ALERTS**

<p>UÅ¼yj tego tekstu (w opcji 1) lub zmodyfikuj w opcji 2:</p>

<div class="code">Temat: DziÄ™kujÄ™ â€” potwierdzenie otrzymania wiadomoÅ›ci

---

CzeÅ›Ä‡ [ImiÄ™],

DziÄ™kujÄ™ za kontakt â€” otrzymaÅ‚em TwojÄ… wiadomoÅ›Ä‡. Odpowiem maksymalnie w ciÄ…gu <strong>48 godzin</strong>.

> W sprawach pilnych proszÄ™ o telefon: +48 609 112 480

Pozdrawiam,
RafaÅ‚ Berecki
https://berecki.com</div>

<div class="step">
        <h3>Wersja HTML (do Gmail / Apps Script)</h3>
        <pre class="code">&lt;div style="font-family:Arial, sans-serif; color:#0a1628; line-height:1.5;"&gt;
    &lt;h2 style="margin:0 0 8px 0; color:#00D2FF;"&gt;DziÄ™kujÄ™ za kontakt&lt;/h2&gt;
    &lt;p&gt;CzeÅ›Ä‡ &lt;strong&gt;[ImiÄ™]&lt;/strong&gt;,&lt;/p&gt;
    &lt;p&gt;DziÄ™kujÄ™ â€” otrzymaÅ‚em TwojÄ… wiadomoÅ›Ä‡ i odpowiem maksymalnie w ciÄ…gu &lt;strong&gt;48 godzin&lt;/strong&gt;.&lt;/p&gt;
    &lt;p&gt;W sprawach pilnych proszÄ™ dzwoniÄ‡: &lt;strong&gt;+48 609 112 480&lt;/strong&gt;&lt;/p&gt;
    &lt;p&gt;Pozdrawiam,&lt;br&gt;&lt;strong&gt;RafaÅ‚ Berecki&lt;/strong&gt;&lt;br&gt;&lt;a href="https://berecki.com"&gt;berecki.com&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;</pre>
</div>

---

## ğŸ¯ **PODSUMOWANIE: KtÃ³rÄ… OpcjÄ™ WybraÄ‡?**

<table style="width: 100%; border-collapse: collapse;">
    <tr style="background: #f0f0f0;">
        <th style="padding: 10px; border: 1px solid #ddd;"><strong>Opcja</strong></th>
        <th style="padding: 10px; border: 1px solid #ddd;"><strong>Zaleta</strong></th>
        <th style="padding: 10px; border: 1px solid #ddd;"><strong>Wada</strong></th>
    </tr>
    <tr>
        <td style="padding: 10px; border: 1px solid #ddd;"><strong>Opcja 1: Filtr + Manual</strong></td>
        <td style="padding: 10px; border: 1px solid #ddd;">âœ… Prosty setup, kontrola manualna</td>
        <td style="padding: 10px; border: 1px solid #ddd;">âŒ Musisz rÄ™cznie odpowiadaÄ‡ kaÅ¼dorazowo</td>
    </tr>
    <tr>
        <td style="padding: 10px; border: 1px solid #ddd;"><strong>Opcja 2: Apps Script</strong></td>
        <td style="padding: 10px; border: 1px solid #ddd;">âœ… PEÅNIE AUTOMATYCZNE, zawsze dziaÅ‚a</td>
        <td style="padding: 10px; border: 1px solid #ddd;">âŒ TrochÄ™ bardziej zaawansowane</td>
    </tr>
</table>

<div class="success">
    <strong>ğŸ¯ REKOMENDACJA: UÅ¼yj OPCJI 2 (Apps Script) - ustawisz raz i zapomnisz! âœ¨</strong>
</div>

</body>
</html>